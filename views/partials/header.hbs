<div id="header">
    <div id="icon-text">
        <a href="/"><img src="/android-chrome-192x192.png"/></a>
        <h3>{{text}}</h3>
        <div id="header-warning">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <p id="header-warning-message" data-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="This domain will no longer be accessible in February. Please switch to <a href='doit.bradysbytes.xyz'>doit.bradysbytes.xyz</a>!">Alert!</p>
        </div>
    </div>
    <div id="header-button-menu">
        <button id="allow-push-notifications" class="btn btn-primary" onclick="allowPushNotifications()">
            <i id="notification-allowed-icon" class="bi bi-bell"></i>
        </button>
        <button id="logout" class="btn btn-primary">Logout</button>
    </div>
</div>

<script>
    var publicVapidKey;
    $(document).ready(function() {
        publicVapidKey = '{{publicVapidKey}}';

        $('#header-warning-message').tooltip({
            html: true,
            delay: {"hide": 1000}
        });

        $('#logout').click(function() {
            $.post('/logout', function(data) {
                if (data == "OK") {
                    window.location.href = '/login';
                }
            }).fail(function(err) {
                alert(err.statusText + ' Error: ' + err.responseText);
            });
        });
    });
</script>

<script src="/js/notifications.js"></script>